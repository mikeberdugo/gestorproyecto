{% extends 'plantilla.html' %}
{% load static %}
{% block id_project %}proyecto.id{% endblock %}

{% block title %} gestion de proyecto - {{proyecto.name}} {% endblock %}
{% block name %}
{{proyecto.name}}
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static './css/tablas.css' %} ">
</-- cdn.datatables.net/2.0.2/js/dataTables.min.js -->

{% endblock %}

{% block conten %}

<style>
    .justify-self-start {
        display: none;
    }

     tbody td {
        max-width: 150px; /* Establece el ancho máximo deseado */
        white-space: nowrap; /* Evita que el texto se envuelva */
        overflow: hidden; /* Oculta el contenido que excede el ancho máximo */
        text-overflow: ellipsis; /* Agrega puntos suspensivos (...) al final del texto que excede el ancho máximo */

    }
</style>

<br>
<div class="contenedortablas" style="height: 600px; overflow: auto; padding: 10px;">
<div class="tabla">
    <div class="container">
        <table>
            <tr>
                <th class="proyecto">Nombre del proyecto</th>
                <th class="descripcion">
                    <p>{{proyecto.name}}</p>
                </th>
                <th class="proyecto">Fecha de creación</th>
                <th class="descripcion">
                    <p>{{proyecto.fecha_creacion}}</p>
                </th>
            </tr>
            <tr>
                <th class="proyecto">Descripción del proyecto</th>
                <th class="descripcion">
                    <p>{{proyecto.description}}</p>
                </th>
                <th class="proyecto">Fecha de inicio planeada</th>
                <th class="descripcion">
                    <p>{{proyecto.fecha_inicio_planeada}}</p>
                </th>
            </tr>
            <tr>
                <th class="proyecto">Fecha de finalización planeada</th>
                <th class="descripcion">
                    <p>{{proyecto.fecha_finalizacion_planeada}}</p>
                </th>
                <th class="proyecto">Alcance</th>
                <th class="descripcion">
                    <p>{{proyecto.alcance}}</p>
                </th>
            </tr>
            <tr>
                <th class="proyecto">Estado</th>
                <th class="descripcion">
                    <p>{{proyecto.estado}}</p>
                </th>
                <th class="proyecto">Tipo</th>
                <th class="descripcion">
                    <p>{{proyecto.tipo}}</p>
                </th>
            </tr>
            <tr>
                <th class="proyecto">Cluster</th>
                <th class="descripcion">
                    <p>{{proyecto.lider}}</p>
                </th>
                <th class="proyecto">Grupo</th>
                <th class="descripcion">
                    <p>{{proyecto.grupo}}</p>
                </th>
            </tr>
            <tr>
                <th class="proyecto">Categoría</th>
                <th class="descripcion">
                    <p>{{proyecto.categoria}}</p>
                </th>
                <th class="proyecto">Fase Actual</th>
                <th class="descripcion">
                    <p>{{proyecto.fase}}</p>
                </th>
            </tr>
            <th class="proyecto">Comentarios</th>
            <th class="descripcion">
                <p>{{proyecto.comentarios}}</p>
            </th>

        </table>
    </div>
</div><br>

<div class="twocontainer" style="overflow-x: auto;">
    <div class="chiquitico" style="max-width: 1008px; margin-left: 60px;">
        <table id="tabla_riesgo" class="table table-striped table-bordered table-hover">
<thead>
            <tr>
                <th>Nombre del Riesgo</th>
                <th>Descripción</th>
                <th>Causas</th>
                <th>Plan</th>
                <th>Descripción Tiempo</th>
                <th>Descripción Alcance</th>
                <th>Descripción Costo</th>
                <th>Materializó</th>
                <th>Acciones de Mitigación</th>
                <th>Consecuencias</th>
                <th>Nivel</th>
            </tr>
        </thead>
        <tbody>
            {% for riesgo in riesgos %}
            <tr>
                <td>{{riesgo.nombre}}</td>
                <td title="{{riesgo.descripcion}}" >{{riesgo.descripcion}}</td>
                <td title="{{riesgo.causas}}" >{{riesgo.causas}}</td>
                <td title="{{riesgo.plan}}" >{{riesgo.plan}}</td>
                <td title="{{riesgo.descripcion_tiempo}}" >{{riesgo.descripcion_tiempo}}</td>
                <td title="{{riesgo.descripcion_alcance}}" >{{riesgo.descripcion_alcance}}</td>
                <td title="{{riesgo.descripcion_costo}}" >{{riesgo.descripcion_costo}}</td>
                <td title="{{riesgo.materializo}}" >{{riesgo.materializo}}</td>
                <td title="{{riesgo.acciones_mitigacion}}" >{{riesgo.acciones_mitigacion}}</td>
                <td title="{{riesgo.consecuencias}}" >{{riesgo.consecuencias}}</td>
                <td>{{riesgo.riesgo}}</td>

            </tr>
            {% endfor %}
        </tbody>
        </table>
    </div>

    <div class="chiquitico1"style="max-width: 1008px; margin-left: 60px;">
        <div class="content-lecciones">

            <table id="tabla_lecciones" class="display" style="width: 100%">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Identificacion el problema</th>
                        <th>Causa</th>
                        <th>Solución</th>
                        <th>Planes de mejora aplicados</th>
                        <th>Resultados de los planes de mejora</th>
                    </tr>
                </thead>
                <tbody>
                    {% for ComentarioTarea in ComentarioTareas %}
                    <tr>
                        <td title="{{ComentarioTarea.fecha_creacion}}" >{{ComentarioTarea.fecha_creacion}}</td>
                        <td title="{{ComentarioTarea.identificando_problema}}" >{{ComentarioTarea.identificando_problema}}</td>
                        <td title="{{ComentarioTarea.causa}}" >{{ComentarioTarea.causa}}</td>
                        <td title="{{ComentarioTarea.solucion}}" >{{ComentarioTarea.solucion}}</td>
                        <td title="{{ComentarioTarea.planes_mejora_aplicados}}" >{{ComentarioTarea.planes_mejora_aplicados}}</td>
                        <td title="{{ComentarioTarea.resultados_planes_mejora}}" >{{ComentarioTarea.resultados_planes_mejora}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>


    <div class="chiquitico2"style="max-width: 25000px; margin-left: 60px;">
        <div class="content-costos">

            <table id="tabla_costos" id="tabla3" class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th style="width:100px">Contrato</th>
                        <th style="width:100px">Objeto</th>
                        <th style="width:100px">Tipo</th>
                        <th style="width:100px">Aliado</th>
                        <th style="width:150px">Contrato Aliado</th>
                        <th style="width:100px">Backlog</th>
                        <th style="width:150px">One Time</th>
                        <th style="width:150px">Recurrente</th>
                        <th style="width:120px">Meses</th>
                    </tr>
                </thead>
                <tbody>
                    {% for costo in costos %}
                    <tr>
                        <td>{{ costo.contrato }}</td>
                        <td>{{ costo.objeto }}</td>
                        <td>{{ costo.tipo }}</td>
                        <td>{{ costo.aliado }}</td>
                        <td>{{ costo.contrato_aliado }}</td>
                        <td>{{ costo.backlog }}</td>
                        <td>{{ costo.one_time }}</td>
                        <td>{{ costo.recurrente }}</td>
                        <td>{{ costo.meses }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
</div>




{% endblock %}



{% block scripts %}
<script src="{% static './js/scripts.js' %}"></script>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.datatables.net/2.0.1/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/2.0.1/js/dataTables.tailwindcss.js"></script>
<script src="https://cdn.tailwindcss.com"></script>


<script>
    $(document).ready(function () {
        $('#tabla_riesgo').DataTable();
        $('#tabla_lecciones').DataTable();
        $('#tabla3').DataTable();
        $('#tabla3').DataTable();
    });
</script>



{% endblock %}
</div>